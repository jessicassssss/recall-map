const popupHTML = `
  <div class="popup-info" style="user-select:all; cursor:pointer;" title="Click to copy">
    <strong>${row.Name || ''} (${row.Date || ''})</strong><br>
    Party: ${row.Party || ''}<br>
    Votes Cast: ${formatNumber(row["Votes Cast"])}<br>
    25% Threshold: ${formatNumber(row["25% Threshold"])}<br>
    Agree: ${formatNumber(row["Agree"])}<br>
    Disagree: ${formatNumber(row["Disagree"])}<br>
    <strong>Results: ${row["Results"] || 'N/A'}</strong><br>
    <br>
    <div class="popup-small"><strong>Elected (%)</strong></div>
    <canvas id="${cid}" class="popup-chart"></canvas>
  </div>
`;

...

new Chart(document.getElementById(cid).getContext('2d'), {
  type: 'pie',
  data: {
    labels: ['Elected', 'Others'],
    datasets: [{
      data: [rate, rest],
      backgroundColor: ['#007bff', '#e9ecef']
    }]
  },
  options: {
    plugins: {
      legend: { position: 'bottom' }
    }
  }
});
